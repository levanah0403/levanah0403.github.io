<head>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<!-- script src="https://code.jquery.com/jquery-migrate-1.4.1.js"></script -->

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.css">
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.js"></script>
</head>

<div id=output1> Loading... </div>


<script type="text/javascript">

(function(window, $) {
	//https://docs.google.com/spreadsheets/d/1aaEt-mK1HjxOOBf6FFsVelNV9GCurVgcVMOPjmNsPj0/edit#gid=0
	var sheetID = "1aaEt-mK1HjxOOBf6FFsVelNV9GCurVgcVMOPjmNsPj0", // 試算表代號
	gid = "0", // 工作表代號
	sql = encodeURIComponent("select *"); // SQL 語法
	callback = "callback"; // 回呼函數名稱

	$.getScript("https://spreadsheets.google.com/tq?tqx=responseHandler:" + callback + "&tq=" + sql + "&key=" + sheetID + "&gid=" + gid);

	window[callback] = function(json) {
		var rowArray = json.table.rows,
		rowLength = rowArray.length,
		html = "",
		i, j, dataGroup, dataLength;

		html = html + "<button class=tagbutton style='float: left;'>青岩</button>";
		html = html + "<button class=tagbutton style='float: left;'>論語</button>";
		html = html + "<button class=tagbutton style='float: left;'>少林</button>";
		html = html + "<button class=tagbutton style='float: left;'>南華</button>";
		html = html + "<button class=tagbutton style='float: left;'>太白</button>";
		html = html + "<button class=tagbutton style='float: left;'>綠書</button>";
		html = html + "<button class=tagbutton style='float: left;'>綁定</button>";
		html = html + "<button class=tagbutton style='float: left;'>天竺</button>";
		html = html + "<button class=tagbutton style='float: left;'>寶鑑</button>";
		html = html + "<BR><BR>";
		html = html + "<button class=tagbutton style='float: left;'>純陽</button>";
		html = html + "<button class=tagbutton style='float: left;'>孔子</button>";
		html = html + "<button class=tagbutton style='float: left;'>屈原</button>";
		html = html + "<button class=tagbutton style='float: left;'>浩氣</button>";
		html = html + "<button class=tagbutton style='float: left;'>大唐</button>";
		html = html + "<button class=tagbutton style='float: left;'>稻香村</button>";
		html = html + "<button class=tagbutton style='float: left;'>道德經</button>";
		
		html = html + "<table id='table_id' class='display'>";

		html = html + "<thead>";
		html = html + "<tr>";
		html = html + "<th>#</th>";
		html = html + "<th>題目</th>";
		html = html + "</tr>";
		html = html + "</thead>";
	
		html = html + "<tbody>";
		
		for (i = 1; i < rowLength; i++) {
			html = html + "<tr>";
			dataGroup = rowArray[i].c;
			dataLength = dataGroup.length;
			for (j = 0; j < dataLength; j++) {
				if (!dataGroup[j]) {
					continue;
				}
				html += "<td>" + i + "</td>";
				html += "<td>" + (dataGroup[j].f || dataGroup[j].v || "") + " </td>";
			}
		//	html += "<br/>";
			html = html + "</tr>";
		}
		
		html = html + "</tbody>";
	
		html = html + "</table>";
		
		$( "#output1" ).html("");
		$( "#output1" ).append( html );
		$( "#output1" ).append('<script>$("#table_id").DataTable({"scrollY": "500px","scrollCollapse": true,"paging": false});</'+'script>');
		$( "#output1" ).append('<script>$(".tagbutton").click(function() {$("#table_id").DataTable().search($(this).text()).draw();});</'+'script>');
	};
})(window, jQuery);
</script>
